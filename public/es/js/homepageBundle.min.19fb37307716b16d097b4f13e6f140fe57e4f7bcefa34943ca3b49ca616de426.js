$('.card').hover(function(){$(this).toggleClass('hovered');},function(){$(this).toggleClass('hovered');})
$('.cards').hover(function(){$(this).toggleClass('darkened')},function(){$(this).toggleClass('darkened');})
let init=function(){var homeLogoLine=document.getElementById("home-logo-line");var homeLogo=document.getElementsByClassName("home__logo")[0];var homeSubtitle=document.getElementById("home-subtitle");var homeDesc=document.getElementById("home-desc");var x=window.matchMedia("(max-width: 1040px)");var video=document.querySelector('video');var promise=video.play();if(promise!==undefined){promise.then(_=>{function dontTimeout(x){if(x.matches){window.clearTimeout(fadeInText);}}
dontTimeout(x);x.addListener(dontTimeout);window.setTimeout(fadeInText,4900);function fadeInText(){homeLogoLine.style.opacity="1";homeLogo.style.opacity="1";homeSubtitle.style.opacity="1";homeDesc.style.opacity="1";homeLogoLine.style.transition="opacity 1s ease-in";homeLogo.style.transition="opacity 1s ease-in";homeSubtitle.style.transition="opacity 2s ease-in";homeDesc.style.transition="opacity 2s ease-in";}}).catch(error=>{function dontFade(){homeLogoLine.style.opacity="1";homeLogo.style.opacity="1";homeSubtitle.style.opacity="1";homeDesc.style.opacity="1";}
dontFade();video.muted=true;video.play();});}
var tooSmall=false;var controller=null;var maxWidth=800;if($(window).width()<maxWidth){tooSmall=true;}
function initScrollMagic(){$('body').scrollTop(0);controller=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:'onLeave'}});let slides=document.querySelectorAll("section.panel");let scene1=new ScrollMagic.Scene({triggerElement:slides[0],duration:1}).setPin(slides[0],{pushFollowers:false}).addTo(controller);let scene2=new ScrollMagic.Scene({triggerElement:slides[1],duration:300}).setPin(slides[1],{pushFollowers:false}).addTo(controller);controller.scrollPos(function(){return window.pageYOffset;});}
if(!tooSmall){initScrollMagic();}
$(window).resize(function(){var wWidth=$(window).width();if(wWidth<maxWidth){if(controller!==null&&controller!==undefined){controller=controller.destroy(true);}}else if(wWidth>=maxWidth){if(controller===null||controller===undefined){initScrollMagic();}}});}
document.addEventListener("DOMContentLoaded",init);var scrollTimer=null;var prevScrollpos=window.pageYOffset;window.onscroll=function(){var currentScrollPos=window.pageYOffset;if(prevScrollpos>currentScrollPos){document.getElementById("header").style.top="0";document.getElementById("hamburger").style.top="0";if(scrollTimer){clearTimeout(hideHeader);}
setTimeout(hideHeader,2000);}else if(currentScrollPos<=0){document.getElementById("header").style.top="0";document.getElementById("hamburger").style.top="0";if(scrollTimer){clearTimeout(hideHeader);}}else if(!document.getElementById("main-menu-mobile").classList.contains('open')&&!document.getElementById('main-menu').classList.contains('open')&&!document.getElementById("main-menu-photos").classList.contains('open')){document.getElementById("header").style.top="-75px";document.getElementById("hamburger").style.top="-75px";}
console.log(!document.getElementById('main-menu').classList.contains(open));prevScrollpos=currentScrollPos;}
function hideHeader(){scrollTimer=true;var currentScrollPos=window.pageYOffset;var isHovered=$('#header').is(":hover");if(currentScrollPos>50&&!isHovered){document.getElementById("header").style.top="-75px";}}
var storyDropdown=document.getElementById('header-story-dropdown');var mainMenu=document.getElementById('main-menu');var overlay=document.getElementById("home-overlay");var photoDropdown=document.getElementById('header-photo-dropdown');var photoMainMenu=document.getElementById('main-menu-photos');var windowWidth=window.innerWidth;console.log(window.innerWidth);if(windowWidth>1040){storyDropdown.onmouseenter=function(){storyDropdown.classList.add('is-active');mainMenu.classList.add('open');overlay.style.display="flex";}
storyDropdown.onmouseleave=function(){storyDropdown.classList.remove('is-active');mainMenu.classList.remove('open');overlay.style.display="none";}
photoDropdown.onmouseenter=function(){photoDropdown.classList.add('is-active');photoMainMenu.classList.add('open');overlay.style.display="flex";}
photoDropdown.onmouseleave=function(){photoDropdown.classList.remove('is-active');photoMainMenu.classList.remove('open');overlay.style.display="none";}}else{storyDropdown.onclick=function(){storyDropdown.classList.toggle('is-active');mainMenu.classList.toggle('open');var displayNone=overlay.getAttribute("style");if(displayNone===null){overlay.style.display="flex";}else{overlay.style.display="none";}}
photoDropdown.onclick=function(){photoDropdown.classList.toggle('is-active');photoMainMenu.classList.toggle('open');var displayNone=overlay.getAttribute("style");if(displayNone===null){overlay.style.display="flex";}else{overlay.style.display="none";}}}
var body=document.querySelector('body');var menuTrigger=document.querySelector('#toggle-main-menu-mobile');var menuContainer=document.querySelector('#main-menu-mobile');menuTrigger.onclick=function(){menuContainer.classList.toggle('open');menuTrigger.classList.toggle('is-active');body.classList.toggle('lock-scroll');document.getElementById("story-menu-arrow").classList.remove("turn");document.getElementById("story-menu-items").classList.remove("show");document.getElementById("photo-menu-arrow").classList.remove("turn");document.getElementById("photo-menu-items").classList.remove("show");if(menuContainer.classList.contains('open')){document.getElementById("story-menu-arrow").classList.add("turn");document.getElementById("story-menu-items").classList.add("show");};}
function showStoryMenu(){document.getElementById("story-menu-arrow").classList.toggle("turn");document.getElementById("story-menu-items").classList.toggle("show");document.getElementById("photo-menu-arrow").classList.remove("turn");document.getElementById("photo-menu-items").classList.remove("show");}
function showPhotoMenu(){document.getElementById("photo-menu-arrow").classList.toggle("turn");document.getElementById("photo-menu-items").classList.toggle("show");document.getElementById("story-menu-arrow").classList.remove("turn");document.getElementById("story-menu-items").classList.remove("show");}